<!DOCTYPE html>
<html>
<body>
    <script>
        alert("Я JavaScript!");
    </script>

    <script src="alert.js"></script>

    <script>
        let admin;
        let name;
        name = "Джон";
        admin = name;
        alert( admin );
    </script>

    <script>
        let ourPlanetName =  "Земля";
        let currentUserName = "Джон"
    </script>

    <script>
        const BIRTHDAY = '18.04.1982';
        const age = someCode(BIRTHDAY); 
    </script>

    <script>
        let name1 = "Ilya";
        alert( `hello ${1}` ); // hello 1        
        alert( `hello ${"name1"}` ); // hello name
        alert( `hello ${name1}` ); // hello Ilya
    </script>
    
    <script>
        let name2 = prompt("Введите ваше имя?", "");
        alert(name2);
    </script>
    
    <script>
        let a = 1, b = 1;
        let c = ++a;
        let d = b++;
        alert( a ); // 2
        alert( b ); // 2
        alert( c ); // 2
        alert( d ); // 1
    </script>

    <script>
        let a1 = 2;
        let x = 1 + (a1 *= 2);
        alert( a1 ); // 4
        alert( x ); // 5
    </script>

    <script>
        /*
        "" + 1 + 0 = "10";
        "" - 1 + 0 = -1;
        true + false = 1;
        6 / "3" = 2;
        "2" * "3" = 6;
        4 + 5 + "px" = "9px";
        "$" + 4 + 5 = "$45";
        "4" - 2 = 2;
        "4px" - 2 = NaN;
        "  -9  " + 5 = "  -9  5";
        "  -9  " - 5 = -14;
        null + 1 = 1;
        undefined + 1 = NaN;
        " \t \n" - 2 = -2;
        */
    </script>

    <script>
        let a2 = +prompt("Первое число?", 1);
        let b2 = +prompt("Второе число?", 2);
        alert(a2 + b2); // 3
    </script>

    <script>
        /*
        5 > 4 → true
        "ананас" > "яблоко" → false
        "2" > "12" → true
        undefined == null → true
        undefined === null → false
        null == "\n0\n" → false
        null === +"\n0\n" → false
        */
    </script>

    <script>
        if ("0") {
            alert( 'Привет' ); //Выводится
        }
    </script>

    <script>
        let value = prompt('Какое "официальное" название JavaScript?', '');

        if (value == 'ECMAScript') {
            alert('Верно!');
        } else {
            alert('Не знаете? ECMAScript!');
        }
    </script>

    <script>
        let value1 = prompt('Введите число', 0);

        if (value1 > 0) {
            alert( 1 );
        } else if (value1 < 0) {
            alert( -1 );
        } else {
            alert( 0 );
        }
    </script>

    <script>
        result = (a + b < 4) ? 'Мало' : 'Много';
    </script>

    <script>
        let message = (login == 'Сотрудник') ? 'Привет' :
            (login == 'Директор') ? 'Здравствуйте' :
            (login == '') ? 'Нет логина' :
            '';
    </script>

    <script>
        alert( null || 2 || undefined );
    </script>

    <script>
        alert( alert(1) || 2 || alert(3) ); //Выведет 1 потом 2
    </script>

    <script>
        alert( 1 && null && 2 ); //null
    </script>

    <script>
        alert( alert(1) && alert(2) ); //1, а затем undefined
    </script>

    <script>
        alert( null || 2 && 3 || 4 ); //3
    </script>

    <script>
        if (age >= 14 && age <= 90)
    </script>

    <script>
        if (age < 14 || age > 90)
    </script>

    <script>
        if (-1 || 0) alert( 'first' ); //True
        if (-1 && 0) alert( 'second' ); //False
        if (null || -1 && 1) alert( 'third' ); //True
    </script>

    <script>
        let userName = prompt("Кто там?", '');

        if (userName === 'Админ') {
            let pass = prompt('Пароль?', '');

            if (pass === 'Я главный') {
                alert( 'Здравствуйте!' );
            } else if (pass === '' || pass === null) {
                alert( 'Отменено' );
            } else {
                alert( 'Неверный пароль' );
            }

        } else if (userName === '' || userName === null) {
            alert( 'Отменено' );
        } else {
            alert( "Я вас не знаю" );
        }
    </script>

    <script>
        let i = 3;

        while (i) {
            alert( i-- ); // 1
        }
    </script>

    <script>
        let k = 0;
        while (++k < 5) alert( k ); // from 0 to 4

        let j = 0;
        while (j++ < 5) alert( j ); // from 0 to 5
    </script>

    <script>
        for (let i = 0; i < 5; i++) alert( i ); // from 0 to 4
        for (let i = 0; i < 5; ++i) alert( i ); // from 0 to 4
    </script>

    <script>
        for (let i = 2; i <= 10; i++) {
            if (i % 2 == 0) {
                alert( i );
            }
        }
    </script>

    <script>
        let i1 = 0;
        while (i1 < 3) {
            alert( `number ${i1}!` );
            i1++;
        }
    </script>

    <script>
        let num;

        do {
            num = prompt("Введите число больше 100?", 0);
        } while (num <= 100 && num);
    </script>

    <script>
        let n = 10;

        nextPrime:
        for (let i = 2; i <= n; i++) {
            for (let j = 2; j < i; j++) { 
                if (i % j == 0) continue nextPrime; 
            }

            alert( i ); 
        }
    </script>

    <script>
        if(browser == 'Edge') {
            alert("You've got the Edge!");
        } else if (browser == 'Chrome' || browser == 'Firefox' || browser == 'Safari' || browser == 'Opera') {
            alert( 'Okay we support these browsers too' );
        } else {
            alert( 'We hope that this page looks ok!' );
        }
    </script>

    <script>
        const number = +prompt('Введите число между 0 и 3', '');

        switch (number) {
        case 0:
            alert('Вы ввели число 0');
            break;
        case 1:
            alert('Вы ввели число 1');
            break;
        case 2:
        case 3:
            alert('Вы ввели число 2, а может и 3');
            break;
        }
    </script>

    <script>
        function checkAge(age) {
            if (age > 18) {
                return true;
            } else {
                return confirm('Родители разрешили?');
            }
        }

        function checkAge(age) {
            if (age > 18) {
                return true;
            }
            return confirm('Родители разрешили?');
        }
        // Оба варианта работают одинаково
    </script>

    <script>
        function checkAge(age) {
            return (age > 18) ? true : confirm('Родители разрешили?');
        }

        function checkAge(age) {
            return (age > 18) || confirm('Родители разрешили?');
        }
    </script>

    <script>
        function min(a, b) {
            if (a < b) {
                return a;
            } else {
                return b;
            }
        }
    </script>

    <script>
        function pow(x, n) {
            let result = x;
            for (let i = 1; i < n; i++) {
                result *= x;
            }

            return result;
            }

            let x2 = prompt("x?", '');
            let n2 = prompt("n?", '');

            if (n2 < 1) {
                alert(`Степень ${n2} не поддерживается, используйте натуральное число`);
            } else {
                alert( pow(x2, n2) );
            }
    </script>

    <script>
        function ask(question, yes, no) {
            if (confirm(question)) yes()
            else no();
        }

        ask(
            "Вы согласны?",
            () => alert("Вы согласились."),
            () => alert("Вы отменили выполнение.")
        );
    </script>

    <script>
        function pow(x, n) {
            let result = 1;

            for (let i = 0; i < n; i++) {
                result *= x;
            }

            return result;
        }

        let x3 = prompt("x?", "");
        let n3 = prompt("n?", "");

        if (n3 < 0) {
            alert(`Степень ${n3} не поддерживается,
                  введите целую степень, большую 0`);
        } else {
            alert( pow(x3, n3) );
        }
    </script>

    <script>
        describe("Возводит x в степень n", function() {
            it("5 в степени 1 будет 5", function() {
                assert.equal(pow(5, 1), 5);
            });

            it("5 в степени 2 будет 25", function() {
                assert.equal(pow(5, 2), 25);
            });

            it("5 в степени 3 будет 125", function() {
                assert.equal(pow(5, 3), 125);
            });
        });
    </script>

    <script>
        let user = {};
        user.name = "John";
        user.surname = "Smith";
        user.name = "Pete";
        delete user.name;
    </script>

    <script>
        function isEmpty(obj) {
            for (let key in obj) {
                return false;
            }
            return true;
        }
    </script>

    <script>
        const user = {
            name: "John"
        };

        // Работает
        user.name = "Pete";

        // Не работает
        user = 123;
    </script>

    <script>
        let salaries = {
            John: 100,
            Ann: 160,
            Pete: 130
        };

        let sum = 0;
        for (let key in salaries) {
            sum += salaries[key];
        }

        alert(sum);
    </script>

    <script>
        function multiplyNumeric(obj) {
            for (let key in obj) {
                if (typeof obj[key] == 'number') {
                    obj[key] *= 2;
                }
            }
        }
    </script>

    <script>
        let user = {
            name: "Джон",
            go: function() { alert(this.name) }
        };

        (user.go)()
    </script>

    <script>
        function makeUser() {
            return {
                name: "Джон",
                ref: this
            };
        };

        let user = makeUser();

        alert( user.ref.name ); // Ошибка
    </script>

    <script>
        let calculator = {
            sum() {
                return this.a + this.b;
            },

            mul() {
                return this.a * this.b;
            },

            read() {
                this.a = +prompt('a?', 0);
                this.b = +prompt('b?', 0);
            }
        };

        calculator.read();
        alert( calculator.sum() );
        alert( calculator.mul() );
    </script>

    <script>
        let ladder = {
            step: 0,
            up() {
                this.step++;
                return this;
            },
            down() {
                this.step--;
                return this;
            },
            showStep() {
                alert( this.step );
                return this;
            }
        }

        ladder.up().up().down().up().down().showStep(); // 1
    </script>

    <script>
        "use strict";
        let str = "Привет";

        str.test = 5;

        alert(str.test); // Ошибка
    </script>

    <script>
        let a4 = +prompt("Введите первое число", "");
        let b4 = +prompt("Введите второе число", "");

        alert( a4 + b4 );
    </script>

    <script>
        alert( Math.round(6.35 * 10) / 10);
    </script>

    <script>
        function readNumber() {
        let num;

        do {
            num = prompt("Введите число", 0);
        } while ( !isFinite(num) );

        if (num === null || num === '') return null;

        return +num;
        }

        alert(`Число: ${readNumber()}`);
    </script>

    <script>
        let i2 = 0;
        while (i2 < 11) {
            i2 += 0.2;
            if (i2 > 9.8 && i2 < 10.2) alert( i2 );
        }
    </script>

    <script>
        function random(min, max) {
            return min + Math.random() * (max - min);
        }

        alert( random(1, 5) );
        alert( random(1, 5) );
        alert( random(1, 5) );
    </script>

    <script>
        function ucFirst(str) {
            if (!str) return str;
            return str[0].toUpperCase() + str.slice(1);
        }

        alert( ucFirst("вася") );
    </script>

    <script>
        function checkSpam(str) {
            let lowerStr = str.toLowerCase();
            return lowerStr.includes('viagra') || lowerStr.includes('xxx');
        }

        alert( checkSpam('buy ViAgRA now') );
        alert( checkSpam('free xxxxx') );
        alert( checkSpam("innocent rabbit") );
    </script>

    <script>
        function truncate(str, maxlength) {
            return (str.length > maxlength) ?
                str.slice(0, maxlength - 1) + '…' : str;
        }
    </script>

    <script>
        function extractCurrencyValue(str) {
            return +str.slice(1);
        }      
    </script>

    <script>
        let fruits = ["Яблоки", "Груша", "Апельсин"];
        let shoppingCart = fruits;

        shoppingCart.push("Банан");
        alert( fruits.length );
    </script>

    <script>
        let styles = ["Джаз", "Блюз"];
        styles.push("Рок-н-ролл");
        styles[Math.floor((styles.length - 1) / 2)] = "Классика";
        alert( styles.shift() );
        styles.unshift("Рэп", "Регги");
    </script>

    <script>
        let arr = ["a", "b"];

        arr.push(function() {
            alert( this );
        })

        arr[2]();
    </script>

    <script>
        function camelize(str) {
            return str
                .split('-')
                .map(
                    (word, index) => index == 0 ? word : word[0].toUpperCase() + word.slice(1)
                )
                .join('');
        }
    </script>

    <script>
        function filterRange(arr, a, b) {
            return arr.filter(item => (a <= item && item <= b));
        }

        let arr1 = [5, 3, 8, 1];
        let filtered = filterRange(arr1, 1, 4);

        alert( filtered );
        alert( arr1 ); 
    </script>

    <script>
        let arr2 = [5, 2, 1, -10, 8];
        arr2.sort((a, b) => b - a);
        alert( arr2 );
    </script>

    <script>
        let vasya = { name: "Вася", age: 25 };
        let petya = { name: "Петя", age: 30 };
        let masha = { name: "Маша", age: 28 };
        let users = [ vasya, petya, masha ];
        let names = users.map(item => item.name);
        alert( names );
    </script>

    <script>
        let vasya1 = { name: "Вася", surname: "Пупкин", id: 1 };
        let petya1 = { name: "Петя", surname: "Иванов", id: 2 };
        let masha1 = { name: "Маша", surname: "Петрова", id: 3 };

        let users1 = [ vasya, petya, masha ];

        let usersMapped = users.map(user => ({
            fullName: `${user.name} ${user.surname}`,
            id: user.id
        }));

        alert( usersMapped[0].id ); // 1
        alert( usersMapped[0].fullName );
    </script>

    <script>
        function sortByAge(arr) {
            arr.sort((a, b) => a.age > b.age ? 1 : -1);
        }

        let vasya2 = { name: "Вася", age: 25 };
        let petya2 = { name: "Петя", age: 30 };
        let masha2 = { name: "Маша", age: 28 };

        let arr3 = [ vasya2, petya2, masha2];

        sortByAge(arr3);

        alert(arr[0].name); // Вася
        alert(arr[1].name); // Маша
        alert(arr[2].name); // Петя
    </script>

    <script>
        function shuffle(array) {
            array.sort(() => Math.random() - 0.5);
        }

        let arr4 = [1, 2, 3];
        shuffle(arr4);
        alert(arr4);
    </script>

    <script>
        function getAverageAge(users) {
            return users.reduce((prev, user) => prev + user.age, 0) / users.length;
        }

        let vasya4 = { name: "Вася", age: 25 };
        let petya4 = { name: "Петя", age: 30 };
        let masha4 = { name: "Маша", age: 29 };

        let arr5 = [ vasya4, petya4, masha4 ];

        alert( getAverageAge(arr) );
    </script>

    <script>
        function unique(arr) {
            return Array.from(new Set(arr));
        }   
    </script>

    <script>
        function aclean(arr) {
            let map = new Map();

            for (let word of arr) {
                let sorted = word.toLowerCase().split("").sort().join(""); // (*)
                map.set(sorted, word);
            }

            return Array.from(map.values());
        }

        let arr6 = ["nap", "teachers", "cheaters", "PAN", "ear", "era", "hectares"];

        alert( aclean(arr6) );
    </script>

    <script>
        let map = new Map();
        map.set("name", "John");
        let keys = Array.from(map.keys());
        keys.push("more");
        alert(keys); 
    </script>

    <script>
        let messages = [
            {text: "Hello", from: "John"},
            {text: "How goes?", from: "John"},
            {text: "See you soon", from: "Alice"}
        ];

        let readMessages = new WeakSet();
        readMessages.add(messages[0]);
        readMessages.add(messages[1]);
        readMessages.add(messages[0]);

        alert("Read message 0: " + readMessages.has(messages[0])); // true
        messages.shift();
    </script>

    <script>
        let messages2 = [
            {text: "Hello", from: "John"},
            {text: "How goes?", from: "John"},
            {text: "See you soon", from: "Alice"}
        ];

        let readMap = new WeakMap();

        readMap.set(messages2[0], new Date(2017, 1, 1));
    </script>

    <script>
        function sumSalaries(salaries) {
            let sum = 0;
            for (let salary of Object.values(salaries)) {
                sum += salary;
            }
            return sum;
        }

        let salaries2 = {
            "John": 100,
            "Pete": 300,
            "Mary": 250
        };

        alert( sumSalaries(salaries2) );
    </script>

    <script>
        function count(obj) {
            return Object.keys(obj).length;
        }
    </script>

    <script>
        let user = {
            name3: "John",
            years: 30
        };

        let {name3, years: age3, isAdmin = false} = user;

        alert( name3 ); 
        alert( age ); 
        alert( isAdmin );
    </script>

    <script>
        function topSalary(salaries) {
            let max = 0;
            let maxName = null;
            for(const [name, salary] of Object.entries(salaries)) {
                if (max < salary) {
                    max = salary;
                    maxName = name;
                }
            }
            return maxName;
        }
    </script>
</body>
</html>